# OCR Платформа для распознавания документов

Веб-приложение на Streamlit для автоматического распознавания структурированных полей в PDF документах с использованием Tesseract OCR.

## Описание

Платформа предназначена для извлечения структурированных данных из отсканированных документов (удостоверения, дипломы, сертификаты). Поддерживает документы различных организаций с предустановленными конфигурациями полей и специализированными парсерами для повышения точности распознавания.

## Структура проекта

```
ocr_platform/
├── app.py                    # Главное Streamlit приложение
├── static/
│   └── styles.css           # CSS стили интерфейса
├── data/
│   └── configs.json         # Конфигурации документов
└── core/
    ├── config.py            # Загрузчик конфигураций
    ├── ocr_engine.py        # OCR движок на базе Tesseract
    ├── display.py           # Компоненты отображения
    ├── parsers.py           # Специализированные парсеры
    └── processors.py        # Обработчики изображений
```


## Поддерживаемые документы

- **1Т**: Удостоверения и дипломы о профессиональной переподготовке
- **РОСНОУ**: Дипломы и удостоверения о повышении квалификации
- **Финансовый университет**: Удостоверения (два варианта макета)


## Установка и настройка

### Требования

- Python 3.7+
- Tesseract OCR
- Streamlit
- PyMuPDF (fitz)
- Pillow, OpenCV, pytesseract


### Установка Tesseract

**Windows:**

```bash
# Скачать с https://github.com/UB-Mannheim/tesseract/wiki
# Установить в C:\Program Files\Tesseract-OCR\
```

**Linux:**

```bash
sudo apt-get install tesseract-ocr
sudo apt-get install tesseract-ocr-rus
```


### Установка зависимостей

```bash
pip install streamlit PyMuPDF pillow opencv-python pytesseract plotly
```


## Запуск приложения

```bash
streamlit run app.py
```

Приложение будет доступно по адресу `http://localhost:8501`

## Использование

1. **Загрузка PDF**: Выберите PDF файл через боковую панель
2. **Выбор конфигурации**: Укажите тип документа из списка или используйте ручную разметку
3. **Настройка изображения**: При необходимости поверните документ на нужный угол
4. **Запуск OCR**: Обработайте текущую страницу или весь документ
5. **Просмотр результатов**: Проверьте извлеченные данные в таблице с индикаторами уверенности
6. **Редактирование**: Внесите исправления в текстовых полях или JSON редакторе
7. **Экспорт**: Скачайте результаты в формате JSON

## Особенности

- **Интеллектуальные парсеры**: Автоматическое исправление типичных OCR ошибок
- **Индикаторы качества**: ✅ (уверенно), ⚠️ (неуверенно), ❌ (ошибка)
- **Ручная разметка**: Возможность создания собственных конфигураций полей
- **Пакетная обработка**: Обработка многостраничных документов
- **JSON редактор**: Прямое редактирование структурированных данных


## Конфигурация

Настройки документов хранятся в `data/configs.json`. Каждая конфигурация содержит:

- Координаты полей на изображении
- Параметры OCR (масштаб, контрастность)
- Привязку к специализированным парсерам


## Добавление новых типов документов

1. Определите координаты полей в `configs.json`
2. При необходимости создайте специализированный парсер в `parsers.py`
3. Обновите маппинг в `config.py`

## Лицензия

Проект разработан для внутреннего использования. 
/